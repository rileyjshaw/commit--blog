{% extends 'base.html' %}

{% block content  %}

  <h1>
    commits-by "{{ blogger.name or blogger.username }}"
  </h1>

  {% for post in posts %}

    <article>
      <header>
        <h2>
          <a href="{{ url_for('blog.commit_post', blogger=blogger.username, repo_name=post.repo.full_name, hex=post.hex) }}" title="Go to commit post page">{{ post.get_title() }}</a>
          <small>{{ post.repo.full_name }}</small>
        </h2>
        <p>
          {{ post.datetime | nice_date }}
          {% if current_user.is_blogger(blogger) %}
            <a href="{{ url_for('blog.remove', repo_name=post.repo.full_name, hex=post.hex) }}">Unpost</a>
          {% endif %}
        </p>
      </header>
      <p>{{ post.get_body(markdown=True)|safe }}</p>
    </article>

  {% else %}

    <p>No posts by {{ blogger.name or blogger.username }} yet :(</p>

  {% endfor %}

{% endblock %}
